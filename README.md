# Hybrid-electric-vehicle

This repository contains simulation and modeling works related to hybrid electric vehicle powertrain and control. Some of the works are under Hybrid Vehicle Systems Graduate Certificate from Purdue University.

<img src="https://github.com/sudokhan112/Hybrid-electric-vehicle/blob/main/admin.png" width="600" height="400">

### 1. Analysis of Mild Parallel Hybrid Electric Vehicle

The primary objective of the first project is to analyze the performance of a mild parallel hybrid gas/electric vehicle. In this vehicle, an electric machine is to propel the vehicle at low speeds with the main engine disengaged. The electric machine is also used as a boost motor to improve high-speed accelerating characteristics. This permits a smaller internal combustion engine to be used without sacrificing overall performance. A block diagram of the vehicle is depicted here.

<img src="https://github.com/sudokhan112/Hybrid-electric-vehicle/blob/main/mild-hev/vehmod.png" width="600" height="400">

**Overall Conclusions:**
* Increasing Engine cutoff power (Pmin) increases mpg. But it also needs higher power from battery (bigger battery). Increasing battery size also increases battery weight which adversely affects mpg. This shows the importance of research on battery capacity to increase hybrid vehicle mpg. Increasing the battery size does not increase mpg and also maintain SOC within the desired limit. This indicates the given battery energy density is too low.
* Mpg increases more rapidly in urban stop and go cycle (LA92), than moderately highway cycle (US06).
* Increasing battery size (keeping very other variables same) decreases mpg.
* Decreasing the threshold to a certain limit in charge sustaining mode increases mpg. After that, battery weight is too high for any improvement.
* Using more aggressive power management (taking more power from motor) increases mpg more rapidly but decreases SOC more rapidly too.
* Decreasing Max engine power decreases mpg but increases SOC.
* Rule based optimization (what we are doing) is easy to implement and also provides insight into the system. But when too many variables are involved, it is hard to keep track of all the variables. A generalized optimization method may show us where the highest optimization (max mpg) happens. Then going to that optimization point through rule-based method could be a good exercise.
* Engine and motor mass can be considered separately to analyze how that affects when different sizes of engine (based on Pmax and Pmin) and motor is used.

**[Download code and detailed report](https://github.com/sudokhan112/Hybrid-electric-vehicle/tree/main/mild-hev)**


### 2. Acceleration of Toyota Prius

The objective is to accelerate the vehicle as rapidly as possible without violating any physical constraints (e.g. maximum motor, generator, or engine speeds and torques, |Pbatt| < |Pbattmax| etc.).

The general control strategy is as follows. For a given vehicle speed, and a desired output power determined by the drive cycle, or driver inputs, the desired operating point of the engine can be determined based on the maximum efficiency curve of the engine. From the vehicle speed and engine speed, the desired generator speed can then be calculated. The generator speed is regulated through the inverter by controlling the output power of the generator (either as generator or motor). Motor torque is determined by looking at the difference between the total vehicle torque demand and the engine torque that is delivered to the ring gear. The battery provides power to the motors along with the electricity generated by the engine. For this project (accelerating as rapidly as possible), if desired tractive power less than 21 kW, assume all-electric launch (Teng = Tgen = 0). Otherwise, assume that Pbatt = 21 kW, and Peng = Ptrac - Pbatt

**Conclusions:**
* It took 10.25 seconds to reach 60 mph. 
* 0.0568 KWhr is supplied by the battery to reach 60 mph. Battery capacity 1.7 KW hr. (1.7/.0568) = 29 times Prius can go 0-60 mph before it completely drains the battery from 100% SOC to 0. Delta SOC is 0.033 to reach 60 mph.
* Mechanical energy is supplied by engine. 0.1069 KWhr is supplied by the engine to reach 60 mph. It is almost twice the energy supplied by battery. 

**[Download code and detailed report](https://github.com/sudokhan112/Hybrid-electric-vehicle/tree/main/prius-acceleration)**


